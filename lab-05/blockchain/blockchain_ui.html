<!DOCTYPE html>
<html>
<head>
    <title>Blockchain Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
    <h3 class="mb-4">⛓️ Blockchain Mô Phỏng</h3>
    <form onsubmit="addTransaction(event)">
        <input class="form-control mb-2" id="sender" placeholder="Người gửi">
        <input class="form-control mb-2" id="receiver" placeholder="Người nhận">
        <input class="form-control mb-2" id="amount" placeholder="Số tiền">
        <button class="btn btn-primary">Thêm Giao Dịch</button>
    </form>
    <button class="btn btn-success mt-3" onclick="mine()">⛏ Đào Block</button>
    <h5 class="mt-4">Blockchain:</h5>
    <pre id="chain" class="bg-light p-3 border rounded" style="max-height: 400px; overflow-y: auto;"></pre>

    <script>
        let chain = [];
        let transactions = [];

        function addTransaction(e) {
            e.preventDefault();
            const sender = document.getElementById("sender").value;
            const receiver = document.getElementById("receiver").value;
            const amount = document.getElementById("amount").value;
            transactions.push({ sender, receiver, amount });
            alert("Đã thêm giao dịch.");
        }

        function mine() {
            const block = {
                index: chain.length + 1,
                transactions: transactions,
                timestamp: Date.now()
            };
            chain.push(block);
            transactions = [];
            document.getElementById("chain").textContent = JSON.stringify(chain, null, 2);
        }
    </script>
</body>
</html>
